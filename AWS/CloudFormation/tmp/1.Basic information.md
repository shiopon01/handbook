# CloudFormation Basic information

CloudFormationの基本情報。

# 料金

CloudFormationは無料で利用できる。課金は作成したAWSリソース対してのみ行われる。例のごとく、インスタンス立てる系のサービスの料金には注意すること。

ほとんど気にしなくても良いが、あってないような課金として、CloudFormation Designerで作成したテンプレートファイルは自動的にS3バケットに保存されるので、その分のS3の料金も含む。

# 用語解説

## AWS CloudFormation

AWSが提供するサービスで、テンプレートからスタックを作成する役割を担う。他にも作成したスタックの編集、削除、スタック作成中や更新中のテンプレートのエラー検知とロールバックなどが役割。

作成するリソースの構築順は、明示的に記述していなければテンプレートの依存関係からCloudFormationが自動的に決定する。（おそらく、削除順も同様）

## テンプレート

YAMLかJSON形式のスタックの設計図であり、ある種、CloudFormationの心臓とも呼べる。どのリソースにどんな権限を与え、どの順番で起動するかなどを事細かに記述して管理することができ、このテンプレートをバージョン管理しながら書き換えていくことでインフラのバージョン管理が可能。

## スタック

テンプレートがCloudFormationを通ってプロビジョニングされるリソースの集合のことをスタックと呼ぶ。テンプレートがプログラミングの `Class` だとしたら、スタックは `Instance` `Object` のという認識で間違いない。（ `たい焼き機` と `たい焼き` の関係）

最終的な出力、リソースの操作中に起きたイベント、作成したリソースなどは全てスタック単位で管理される。スタック単位でリソースを管理でき、スタックを削除することで紐づくリソースを全て削除することが可能。

## CloudFormation Designer

CloudFormationの付属機能のひとつ。ドラッグアンドドロップでおなじみのAWSアイコンを配置して繋いでいくだけで目的のテンプレートを作成できるツール。テキストのテンプレートの構文チェックやS3へのアップロードなども行ってくれるので、ドラッグアンドドロップ周りの機能を利用しなくても便利に使える有能なツール。

## CloudFormer

CloudFormationの付属機能のひとつ。既に環境に存在するAWSリソースからCloudFormationのテンプレートを作成できるツール。厳密にはCloudFormation標準の付属機能ではなく、既存の環境からCloudFormationのテンプレートを作ることができるAWS提供のWebアプリ。

利用にはAWSが提供するCloudFormationのサンプルテンプレート `CloudFormer` を使用する。CloudFormerテンプレートは `t2.medium` のEC2インスタンスを作成してその中でWebアプリ `CloudFormer` を立ち上げるので、ユーザーは立ち上げられたアプリにスタックから出力されたURLでアクセスし、設定したユーザー情報でログインして操作を始める。
